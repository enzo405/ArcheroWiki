{% extends "template.html" %}
{% load static %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'wiki.css' %}?version=1.5.1a">
<link rel="stylesheet" type="text/css" href="{% static 'embed.css' %}?version=1.5.1a">
<title>Archero - Wiki</title>
<meta name="description" content="Welcome to Archero website! We offer advanced gameplay statistics, comprehensive guides to help you progress through the game. This site is constantly evolving and includes the latest updates.">
<meta property="og:type" content="website">
{% if item == "yes" %}
<meta property="og:title" content="{{ name }}">
<meta property="og:url" content="{{ url_cpy }}">
<meta property="og:description" content="{{ item_data.description|safe }}">
<meta property="og:image" content="{% static item_data.item_image %}?version=1.5.1a">
{% else %}
<meta property="og:title" content="Archero - Item Description">
<meta property="og:url" content="https://stats.wiki-archero.com/wiki/item">
<meta property="og:description" content="Welcome to Archero website! We offer advanced gameplay statistics, comprehensive guides to help you progress through the game. This site is constantly evolving and includes the latest updates.">
<meta property="og:image" content="{% static 'image/archero_icon.png' %}?version=1.5.1a">
{% endif %}
{% endblock %}
{% block header_content %}{{ header_msg }}{% endblock %}
{% block content %}
<div class="content_container">
	<div class="search-bar" id="search-bar">
		<script>
			function filterList() {
				var input = document.getElementById("myInput");
				var filter = input.value.toUpperCase();
				var ul = document.getElementById("myUL");
				var li = ul.getElementsByTagName("li");

				for (var i = 0; i < li.length; i++) {
					var a = li[i].getElementsByTagName("a")[0];
					var txtValue = a.textContent || a.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						li[i].style.display = "";
					} else {
						li[i].style.display = "none";
					}
				}
			}
		</script>
		<input type="text" id="myInput" onkeyup="filterList()" placeholder="Search for items.." value="{{ name }}">
		<ul id="myUL" style="display: none;">
			{% for k,v in ItemData.items %}
				<li value="{{ k }}"><a id="toggle-display-list" href="/wiki/item/{{ v.value }}/"><div class="item_name">{{ k }}</div><div class="siimg"><img src="/static/{{ v.image }}" width="26px"></div></a></li>
			{% endfor %}
		</ul>
	</div>
	<div class="embed-container">
		<div class="kn3fae-0 ezpxFx">
			<div class="sgp62q-0 iuJdTu">
				<a title="TigerShark's Bot">
					<img src="/static/image/wiki-image/sylvanpfp3.png" alt="User avatar" class="sgp62q-1 dLWNvE">
					<h1 class="sgp62q-2 hfwuZw">Sylvan</h1>
					<span class="sgp62q-3 cTBPsI">BOT</span>
					<span class="sc-1idsap7-0 dyOqmJ" id="date"></span>
				</a>
				<span class="span-share" id="{{ name }}"><a onclick="createModale(this,false)" class="copy-icon-container"><i class="fa fa-share-alt" aria-hidden="true"></i></a></span>
			</div>
			<div class="kn3fae-2 eKjosW">
				<div class="z4zgh4-0 jiJPTS" style="border-color: rgb(217, 0, 255);">
					<div class="sc-3qrykn-0 bdFBtt">
						<span class="sc-3qrykn-1 bsDYtY">
							<div class="sc-27l7o2-0 heOpKb" id="name_item">{{ name }}</div>
						</span>
						<div class="sc-3qrykn-3 hXMbfy">
							<div class="sc-27l7o2-0 heOpKb" id="item_description">{{ item_data.description|safe }}</div>
							<div class="e_hidden_stats " id="hidden_stats">
								<b>Hidden Stats</b>
								{% for rarity,boost in item_data.hidden_stats.items %}
								<span>{{ boost|safe }}</span>
								{% endfor %}
							</div>
						</div>
						<div class="sc-3qrykn-4 hQKgZF">
							<div class="rgqgux-0 dQAxvm">
								<div class="rgqgux-1 dHYyKL">
									<div class="sc-27l7o2-0 heOpKb" style="color: white;">
										<strong>Stats</strong>
									</div>
								</div>
								<div class="rgqgux-2 jFcAhO">
									<div class="sc-27l7o2-0 heOpKb container-rarity">
										{% for k,v in item_data.rarity.items %}
										{% if v != "" %}
											<div class="rarity-desc" id="{{ k }}-rarity"><span class="span-rarity-item-desc"><img src="/static/image/rarity/{{ k }}.png" alt="{{ k }}"></span>{{ v|safe }}</div>
										{% endif %}
										{% endfor %}
									</div>
								</div>
							</div>
						</div>
						<div class="sc-3qrykn-6 fTOqMH">
							<img src="/static/{{ item_data.image }}" alt="Thumbnail-{{ item_data.image }}" class="sc-3qrykn-7 fUliQq" id="item_image">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
{% block javascript %}
<script>
	var mainDescription = document.getElementsByClassName('main-description')
	var search_bar = document.getElementById('myInput');
	var ul_li = document.getElementById('myUL');
	var item_li_a = document.querySelectorAll("#toggle-display-list");

	var n =  new Date();
	var y = n.getFullYear();
	var m = n.getMonth() + 1;
	var d = n.getDate();
	document.getElementById("date").innerHTML = m + "/" + d + "/" + y;

	search_bar.addEventListener('click', function(){
		if(ul_li.style.display == "none"){
			ul_li.style.display = "block"
			search_bar.value = ""
		}else if(ul_li.style.display !== "none"){
			ul_li.style.display = "none"
		}
	})

    window.addEventListener('click', ({target}) => {
        if(target.id != "myInput"){
            ul_li.style.display = "none"
        }
	})

	item_li_a.forEach(function(e) {
	    e.addEventListener("click", function() {
	    	setItemValues(e.textContent);
        });
    });
</script>
<script>
	const self_inline_div_traveling = document.getElementById('Item-sidebar-image')
	self_inline_div_traveling.classList.add('bg-traveling') 
</script>
{% endblock %} 